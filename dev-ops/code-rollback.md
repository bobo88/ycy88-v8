# 代码回滚机制

## 一、分支回滚

> 原理：正式发布某版本前，将代码集成到 release 分支（包含了最新的 master 主干代码），部署 release 分支到正式环境。若线上验证通过，则将 release 分支合并到 master 主干。否则，线上环境直接回滚部署 master 主干分支，确保线上环境 OK。

## 二、容器缓存回滚

> 原理：通过容易缓存记录 3~5 个正式版本源代码，一旦最新部署的版本有问题，可及时回滚至之前的缓存版本，确保线上运行 OK。
