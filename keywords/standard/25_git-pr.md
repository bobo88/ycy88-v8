# 代码库规范制定-PR 流程

<!-- ::: tip 概念
Git commit message 规范： 现在市面上比较流行的方案是 约定式提交规范（Conventional Commits）。
::: -->

## 一、代码 PR 管理流程

> 代码 PR（Pull Request）管理流程是一种用于团队协作和代码审查的工作流程，它可以确保代码质量和团队合作的顺利进行。

1. 创建分支：开发人员从主代码库（如 Git）创建自己的分支，以独立于主分支进行开发。

2. 开发和提交：在自己的分支上进行代码开发和修改，逐步完成任务。开发人员将代码提交到自己的分支。

3. 创建 PR：当开发人员完成一项任务或修复一个问题时，他们将创建一个 PR，将自己的分支的代码合并到主分支中。

   > 注意：创建 PR 之前，一定要先同步拉取远程原始仓库的最新代码（具体参考《Github 进行 fork 后的仓库，如何与原仓库同步？》），然后再提交 PR。否则会报 “合并冲突” 错误。

4. 审查请求：其他团队成员（如团队领导或同事）被邀请来审查代码 PR。他们将仔细检查代码，查找潜在的问题、错误和不良实践。

5. 代码审查：审查人员对代码进行审查，提供反馈、建议和问题。审查人员可以通过评论和线上讨论来与开发人员交流。

6. 修订和讨论：开发人员根据审查人员的反馈进行代码修订。他们可以回答问题、解释决策和修改代码以解决问题。

7. 迭代和更新：如果需要进一步的审查和修订，开发人员将继续迭代更新代码，直到满足审查人员的要求。

8. 审核通过：一旦代码通过了审查并获得了必要的批准，审查人员可以在 PR 上给予批准，表示代码可以合并到主分支中。

9. 合并到主分支：开发人员可以将代码合并到主分支，确保团队的主要代码库中包含最新的修改。

10. 清理和关闭：完成 PR 后，相关分支可以被删除，PR 可以被关闭，以保持代码库的整洁。

此外，以下是一些推荐的实践：

确保每个 PR 都有明确的标题和描述，描述其中包括修改的目的、方法和测试结果等。

鼓励团队成员参与代码审查，并通过讨论和反馈来提高代码质量。

遵循统一的代码风格和规范，确保代码在整个代码库中保持一致。

使用自动化工具进行代码质量检查、测试和部署。

记录审查过程和决策，以便后续参考和知识分享。

代码 PR 管理流程可以根据团队和项目的实际需求进行调整和优化。它有助于提高代码质量、减少错误和问题，并促进团队协作和知识共享。

::: warning 注意
提交 PR 时，未与原仓库同步的话，则会出现以下状况：
:::
![An image](/images/frontend/pr3.png)

## 二、流程图

---

![An image](/images/frontend/pr2.png)

---

<!-- ![An image](/images/frontend/pr.png) -->

## 三、参考文章

- [Github 进行 fork 后的仓库，如何与原仓库同步？](https://www.cnblogs.com/aleiyoy/p/17403927.html)
